% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hydro-pipeline.R
\name{wass2s_run_basins_ml}
\alias{wass2s_run_basins_ml}
\title{Run the Hydro + ML pipeline for all basins}
\usage{
wass2s_run_basins_ml(
  data_by_product,
  hybas_id = "HYBAS_ID",
  pred_pattern_by_product = NULL,
  models = SUPPORTED_MODELS,
  topK = 3,
  min_kge_model = -Inf,
  basins = NULL,
  parallel = FALSE,
  workers = 4,
  grid_levels = 5,
  final_fuser = "rf",
  quiet = TRUE,
  ...
)
}
\arguments{
\item{data_by_product}{Named list of data frames (one per product).}

\item{hybas_id}{Name of the basin ID column.}

\item{pred_pattern_by_product}{Optional per-product regex for predictor selection.}

\item{models}{Character vector of base models to include.}

\item{topK}{Integer, number of best products per base model.}

\item{min_kge_model}{Minimum best KGE required to keep a base model.}

\item{basins}{Optional vector of basin IDs to subset (default: all).}

\item{parallel}{Logical; if \code{TRUE}, uses \pkg{furrr} for parallel execution.}

\item{workers}{Integer number of workers when \code{parallel = TRUE}.}

\item{grid_levels}{Grid density for tuning.}

\item{final_fuser}{Name of the meta-learner for final fusion.}

\item{quiet}{Logical; if \code{FALSE}, emits informative messages.}

\item{...}{Other parameters passed to \code{wass2s_run_bas_mod_ml}.}
}
\value{
A named list: one element per basin, each the list returned by
  \code{wass2s_run_bas_mod_ml()}.
}
\description{
Iterate over all basin IDs, running \code{wass2s_run_bas_mod_ml()} for
each, optionally in parallel. Returns a named list indexed by basin ID.
}
\examples{
# res <- wass2s_run_basins_ml(data_by_product = lst, models = c("rf","xgb"), final_fuser = "glmnet")
}
