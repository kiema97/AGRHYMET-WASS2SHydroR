% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/resampling.R
\name{wass2s_rolling_cv}
\alias{wass2s_rolling_cv}
\alias{make_rolling}
\title{Robust rolling-origin CV with target number of splits}
\usage{
wass2s_rolling_cv(
  df,
  year_col = "YYYY",
  init_frac = 0.6,
  assess_frac = 0.2,
  n_splits = NULL,
  cumulative = TRUE,
  quiet = TRUE
)

make_rolling(...)
}
\arguments{
\item{df}{A data frame sorted by the time column.}

\item{year_col}{Name of the time column (default: `"YYYY"`).}

\item{init_frac}{Fraction of rows used for the initial training window
(default 0.60). A hard minimum of 8 rows is enforced when possible.}

\item{assess_frac}{Fraction of rows used for the assessment window
(default 0.20). A hard minimum of 3 rows is enforced when possible.}

\item{n_splits}{Optional integer, desired number of resamples (splits).
If `NULL` (default), every possible split is produced (`skip = 0`).}

\item{cumulative}{Logical; passed to `rsample::rolling_origin()`
(default `TRUE`).}

\item{quiet}{Logical; if `FALSE`, emits informative messages when the
requested `n_splits` cannot be reached (default `TRUE`).}
}
\value{
An `rsample::rset` created by `rsample::rolling_origin()`.
}
\description{
Builds cumulative rolling-origin resamples with safe sizing and an optional
target number of splits. Internally, the function computes `initial` and
`assess` from fractions, then chooses `skip` so that the number of splits is
(approximately) equal to `n_splits`. When `n_splits` is larger than the
maximum achievable, it falls back to the maximum.
}
\examples{
df <- tibble::tibble(YYYY = 1990:2010, Q = rnorm(21))
# All possible splits
rs1 <- make_rolling(df)
# About 5 splits
rs2 <- make_rolling(df, n_splits = 5)

}
\keyword{internal}
