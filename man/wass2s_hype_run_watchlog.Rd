% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hype_run.R
\name{wass2s_hype_run_watchlog}
\alias{wass2s_hype_run_watchlog}
\title{Run HYPE in "watch-log" mode (Windows GUI executables)}
\usage{
wass2s_hype_run_watchlog(
  run_dir,
  exe_path = NULL,
  args = character(),
  env = character(),
  timeout_sec = 150,
  expected_files = character(),
  clean_regex = c("^hyss_.*\\\\.log$"),
  log_prefix = NULL,
  log_regex = "^hyss_.*\\\\.log$",
  check_interval = 10,
  stable_duration = 30
)
}
\arguments{
\item{run_dir}{Directory containing HYPE inputs.}

\item{exe_path}{Optional explicit path to the HYPE executable. If NULL, searches for
exactly one `.exe` inside `run_dir`.}

\item{args}{Character vector of command-line arguments passed to HYPE (if supported).}

\item{env}{Named character vector of environment variables to set during the run.}

\item{timeout_sec}{Maximum time to wait in seconds (0 = no timeout).}

\item{expected_files}{Expected output files (relative to `run_dir`) to validate.}

\item{clean_regex}{REGEX patterns used to delete files under `run_dir` before running.}

\item{log_prefix}{Prefix for stdout/stderr logs (defaults to timestamp tag).}

\item{log_regex}{REGEX to detect the "completion" log file in `run_dir`
(default: `"^hyss_.*\\\\.log$"`).}

\item{check_interval}{Seconds between log checks.}

\item{stable_duration}{Seconds of unchanged log size to consider the run finished.}
}
\value{
Same structure as `wass2s_hype_run()`, plus `watched_log` (character or NA).
}
\description{
Some HYPE builds may open a final Yes/No dialog and keep the process alive.
This function starts HYPE as a background process, waits for a log file matching
`log_regex` to appear and become stable (file size unchanged for `stable_duration`),
then attempts to close the window (Windows) and falls back to kill if needed.
}
