% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/maps-generic.R
\name{wass2s_plot_map}
\alias{wass2s_plot_map}
\title{Generic map plotter for WASS2S products (probabilities, class, metrics)}
\usage{
wass2s_plot_map(
  sf_basins,
  data,
  basin_col = "HYBAS_ID",
  type = c("auto", "probs", "class", "metrics", "metric_classes"),
  ...
)
}
\arguments{
\item{sf_basins}{sf object or path to a vector file readable by `sf::st_read()`.}

\item{data}{data.frame/tibble (1 row per basin) containing the expected columns depending on `type`.}

\item{basin_col}{join key with `sf_basins` (default `"HYBAS_ID"`).}

\item{type}{one of `"auto"`, `"probs"`, `"class"`, `"metrics"`, `"metric_classes"`.}

\item{...}{passed to methods; for `type="metrics"`, argument `metrics=` can
explicitly list the columns to plot, and `limits=` can provide per-metric ranges.}
}
\value{
a `ggplot2::ggplot` object (invisible if saved by the method).
}
\description{
High-level S3 dispatcher that routes to the appropriate map function based on
the structure of `data` **or** an explicit `type` chosen by the user.
}
\details{
Supported `type` values:
- `"auto"`              : automatic detection based on available columns
- `"probs"`             : probability maps (requires `p_below,p_normal,p_above`)
- `"class"`             : dominant class map (requires `class_hat`)
- `"metrics"`           : continuous metric maps (e.g., `KGE, RMSE`) with facets
- `"metric_classes"`    : categorical map based on a `quality` column
}
\examples{
\dontrun{
# auto (detection)
wass2s_plot_map("basins.gpkg", probs_df)

# force a specific type
wass2s_plot_map("basins.gpkg", class_df, type = "class")

# continuous metrics with explicit columns
wass2s_plot_map("basins.gpkg", metrics_df, type = "metrics", metrics = c("KGE","RMSE"))
}
}
